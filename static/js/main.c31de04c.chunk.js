(this.webpackJsonpzine=this.webpackJsonpzine||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){"use strict";t.r(n);var c=t(1),i=t.n(c),a=t(6),r=t.n(a),s=t(3),o=t.n(s),u=t(5),j=t(2),d=t(0),l=function(e){var n=e.cinema,t=e.selected,c=e.selectCinema;return Object(d.jsx)("button",{className:t?"tab selected":"tab",onClick:function(){return c(n)},children:n.name})},b=function(){var e=Object(c.useState)(!1),n=Object(j.a)(e,2),t=n[0],i=n[1];return Object(c.useEffect)((function(){setTimeout((function(){i(!0)}),500)})),t?Object(d.jsx)("div",{className:"loader",children:"Loading..."}):Object(d.jsx)("div",{})},f=function(e){var n=e.movie;return Object(d.jsxs)("div",{className:"movie",onClick:function(){var e=window.open(n.source,"_blank","noopener,noreferrer");e&&(e.opener=null)},children:[Object(d.jsx)("img",{className:"poster",src:n.poster}),Object(d.jsx)("div",{className:"name",children:n.name})]})},v="https://api.drk.cat",m=function(){var e=Object(c.useState)([]),n=Object(j.a)(e,2),t=n[0],i=n[1],a=Object(c.useState)(void 0),r=Object(j.a)(a,2),s=r[0],m=r[1],O=Object(c.useState)([]),h=Object(j.a)(O,2),p=h[0],x=h[1],g=Object(c.useState)(!1),k=Object(j.a)(g,2),w=k[0],N=k[1];Object(c.useEffect)((function(){N(!0),fetch("".concat(v,"/zine/cinema")).then(function(){var e=Object(u.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,i(t),C(t[0]),N(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}),[]);var C=function(e){s&&s.id===e.id||(N(!0),m(e),fetch("".concat(v,"/zine/cinema/").concat(e.id,"/movies")).then(function(){var e=Object(u.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,x(t.movies),N(!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})))};return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("h1",{children:"Zine"}),Object(d.jsx)("div",{className:"cinemas",children:t.map((function(e){return Object(d.jsx)(l,{cinema:e,selected:(null===s||void 0===s?void 0:s.id)===e.id,selectCinema:C},e.id)}))}),Object(d.jsx)("h2",{children:null===s||void 0===s?void 0:s.name}),Object(d.jsx)("div",{className:"movies",children:null===p||void 0===p?void 0:p.map((function(e){return Object(d.jsx)(f,{movie:e},e.id)}))}),w&&Object(d.jsx)(b,{})]})},O=(t(13),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,15)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),c(e),i(e),a(e),r(e)}))});r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),O()}},[[14,1,2]]]);
//# sourceMappingURL=main.c31de04c.chunk.js.map