(this.webpackJsonpzine=this.webpackJsonpzine||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(6),r=c.n(i),a=c(3),o=c.n(a),l=c(5),j=c(2),d=c(0),u=function(e){var t=e.cinema,c=e.selected,n=e.selectCinema;return Object(d.jsx)("button",{className:c?"tab selected":"tab",onClick:function(){return n(t)},children:t.name})},b=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){setTimeout((function(){s(!0)}),500)})),c?Object(d.jsx)("div",{className:"loader",children:"Loading..."}):Object(d.jsx)("div",{})},m=function(e){var t=e.movie,c=e.selectMovie;return Object(d.jsxs)("div",{className:"movie",onClick:function(){return c(t)},children:[Object(d.jsx)("img",{className:"poster",src:t.poster}),Object(d.jsx)("div",{className:"name",children:t.name})]})},h=function(e){var t=e.embedId,c=e.url,s=Object(n.useState)(t),i=Object(j.a)(s,2),r=i[0],a=i[1];return Object(n.useEffect)((function(){if(c){var e=/v=(\w+)/.exec(c);e&&e[1]&&a(e[1])}})),Object(d.jsx)("div",{className:"video-responsive",children:Object(d.jsx)("iframe",{width:"853",height:"480",src:"https://www.youtube.com/embed/".concat(r),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})})},O=function(e){var t=e.movie,c=e.onClose;return Object(d.jsxs)("div",{className:"movie-details",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("h3",{className:"name",children:t.name}),Object(d.jsx)("button",{className:"close",onClick:c,children:"Cerrar"})]}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsx)("img",{className:"poster",src:t.poster}),Object(d.jsx)("div",{className:"sessions",children:t.sessions.map((function(e){return Object(d.jsxs)("button",{className:"session",onClick:function(){return function(e){if(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}}(e.url)},children:["Sala ",e.room," | ",e.time]},e.time)}))})]}),Object(d.jsxs)("div",{className:"details",children:[t.synopsis&&Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h5",{children:"Sinopsis"}),Object(d.jsx)("span",{children:t.synopsis})]}),t.director&&Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h5",{children:"Director"}),Object(d.jsx)("span",{children:t.director})]}),t.actors&&Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h5",{children:"Actores"}),Object(d.jsx)("span",{children:t.actors.join(", ")})]}),t.genres&&Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h5",{children:"Generos"}),Object(d.jsx)("span",{children:t.genres.join(", ")})]}),t.duration&&Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h5",{children:"Duraci\xf3n"}),Object(d.jsxs)("span",{children:[t.duration," min."]})]}),t.trailer&&Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h5",{children:"Trailer"}),Object(d.jsx)(h,{url:t.trailer})]})]})]})]})},v="https://api.drk.cat",x=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(void 0),r=Object(j.a)(i,2),a=r[0],h=r[1],x=Object(n.useState)(void 0),f=Object(j.a)(x,2),p=f[0],N=f[1],w=Object(n.useState)([]),g=Object(j.a)(w,2),C=g[0],S=g[1],k=Object(n.useState)(!1),y=Object(j.a)(k,2),E=y[0],F=y[1];Object(n.useEffect)((function(){F(!0),fetch("".concat(v,"/zine/cinema")).then(function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:c=e.sent,s(c),z(c[0]),F(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}),[]);var z=function(e){a&&a.id===e.id||(F(!0),h(e),fetch("".concat(v,"/zine/cinema/").concat(e.id,"/movies")).then(function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:c=e.sent,S(c.movies),F(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})))},T=function(e){N(e)};return Object(d.jsxs)("div",{className:"app",children:[p&&Object(d.jsx)(O,{movie:p,onClose:function(){N(void 0)}}),Object(d.jsx)("h1",{children:"Zine"}),Object(d.jsx)("div",{className:"cinemas",children:c.map((function(e){return Object(d.jsx)(u,{cinema:e,selected:(null===a||void 0===a?void 0:a.id)===e.id,selectCinema:z},e.id)}))}),Object(d.jsx)("h2",{children:null===a||void 0===a?void 0:a.name}),Object(d.jsx)("div",{className:"movies",children:null===C||void 0===C?void 0:C.map((function(e){return Object(d.jsx)(m,{movie:e,selectMovie:T},e.id)}))}),E&&Object(d.jsx)(b,{})]})},f=(c(13),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),i(e),r(e)}))});r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root")),f()}},[[14,1,2]]]);
//# sourceMappingURL=main.8b98f258.chunk.js.map